CXX = g++
CXXFLAGS = -std=c++11 -Wall -Wextra -pg
LDFLAGS = -pg
EXEC_LIST = list_glist
EXEC_STACK = stack_gadj
EXEC_STACK_LIST = stack_glist
EXEC_LIST_GADJ = list_gadj
SOURCES_LIST = list_glist.cpp
SOURCES_STACK = stack_gadj.cpp
SOURCES_STACK_LIST = stack_glist.cpp
SOURCES_LIST_GADJ = list_gadj.cpp
OBJECTS_LIST = $(SOURCES_LIST:.cpp=.o)
OBJECTS_STACK = $(SOURCES_STACK:.cpp=.o)
OBJECTS_STACK_LIST = $(SOURCES_STACK_LIST:.cpp=.o)
OBJECTS_LIST_GADJ = $(SOURCES_LIST_GADJ:.cpp=.o)

all: $(EXEC_LIST) $(EXEC_STACK) $(EXEC_STACK_LIST) $(EXEC_LIST_GADJ)

$(EXEC_LIST): $(OBJECTS_LIST)
	$(CXX) $(LDFLAGS) $(OBJECTS_LIST) -o $(EXEC_LIST)

$(EXEC_STACK): $(OBJECTS_STACK)
	$(CXX) $(LDFLAGS) $(OBJECTS_STACK) -o $(EXEC_STACK)

$(EXEC_STACK_LIST): $(OBJECTS_STACK_LIST)
	$(CXX) $(LDFLAGS) $(OBJECTS_STACK_LIST) -o $(EXEC_STACK_LIST)

$(EXEC_LIST_GADJ): $(OBJECTS_LIST_GADJ)
	$(CXX) $(LDFLAGS) $(OBJECTS_LIST_GADJ) -o $(EXEC_LIST_GADJ)

%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

clean:
	rm -f $(EXEC_LIST) $(EXEC_STACK) $(EXEC_STACK_LIST) $(EXEC_LIST_GADJ) $(OBJECTS_LIST) $(OBJECTS_STACK) $(OBJECTS_STACK_LIST) $(OBJECTS_LIST_GADJ) gmon.out
